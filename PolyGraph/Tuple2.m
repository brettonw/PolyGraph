//------------------------------------------------------------------------------
//  Copyright 2010. All rights reserved.
//------------------------------------------------------------------------------
#import "Tuple2.h"
#import "Algorithm2.h"
#import "Constants2.h"

//------------------------------------------------------------------------------
// implementation
//------------------------------------------------------------------------------
@implementation Tuple2

//------------------------------------------------------------------------------
// private methods
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// properties
//------------------------------------------------------------------------------
@synthesize x = m_x;
@synthesize y = m_y;

//------------------------------------------------------------------------------
// public methods
//------------------------------------------------------------------------------
- (id) init
{
    if (self = [super init])
    {
        [self reset];
    }
    return self;
}

//------------------------------------------------------------------------------
- (id) initWithX:(double)x Y:(double)y
{
    if (self = [super init])
    {
        m_x = x;
        m_y = y;
    }
    return self;
}

//------------------------------------------------------------------------------
- (id) initWithTuple:(Tuple2*)tuple
{
    if (self = [super init])
    {
        [self copy:tuple];
    }
    return self;
}

//------------------------------------------------------------------------------
- (void) reset
{
    m_x = m_y = 0;
}

//------------------------------------------------------------------------------
- (void) copy:(Tuple2*)tuple
{
    m_x = tuple.x;
    m_y = tuple.y;
}

//------------------------------------------------------------------------------
+ (bool) equalLeft:(Tuple2*)left right:(Tuple2*)right tolerance:(double)tolerance
{
    return ([Algorithm2 preciseCompareLeft:left.x right:right.x withTolerance:tolerance] &&
            [Algorithm2 preciseCompareLeft:left.y right:right.y withTolerance:tolerance]);
}

//------------------------------------------------------------------------------
+ (bool) equalLeft:(Tuple2*)left right:(Tuple2*)right
{
    return [Tuple2 equalLeft:left right:right tolerance:EPSILON];
}

//------------------------------------------------------------------------------
+ (double) dotProductLeft:(Tuple2*)left right:(Tuple2*)right
{
    return (left.x * right.x) + (left.y * right.y);
}

//------------------------------------------------------------------------------
- (NSString*) description
{
    return [NSString stringWithFormat:@"(%.4f, %.4f)", m_x, m_y];
}

//------------------------------------------------------------------------------
@end

//------------------------------------------------------------------------------
